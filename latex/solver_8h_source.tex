\hypertarget{solver_8h_source}{}\doxysection{solver.\+h}
\label{solver_8h_source}\index{libs/solver/solver.h@{libs/solver/solver.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2 \textcolor{comment}{// MIT License}}
\DoxyCodeLine{3 \textcolor{comment}{// Copyright (c) 2022 Bevan W.S. Jones}}
\DoxyCodeLine{4 \textcolor{comment}{//}}
\DoxyCodeLine{5 \textcolor{comment}{// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated}}
\DoxyCodeLine{6 \textcolor{comment}{// documentation files (the "{}Software"{}), to deal in the Software without restriction, including without limitation the}}
\DoxyCodeLine{7 \textcolor{comment}{// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to}}
\DoxyCodeLine{8 \textcolor{comment}{// permit persons to whom the Software is furnished to do so, subject to the following conditions:}}
\DoxyCodeLine{9 \textcolor{comment}{//}}
\DoxyCodeLine{10 \textcolor{comment}{// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the}}
\DoxyCodeLine{11 \textcolor{comment}{// Software.}}
\DoxyCodeLine{12 \textcolor{comment}{//}}
\DoxyCodeLine{13 \textcolor{comment}{// THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE}}
\DoxyCodeLine{14 \textcolor{comment}{// WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR}}
\DoxyCodeLine{15 \textcolor{comment}{// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR}}
\DoxyCodeLine{16 \textcolor{comment}{// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{17 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{18 \textcolor{comment}{// File Name: solver.h}}
\DoxyCodeLine{19 \textcolor{comment}{// Description: Contains the base definitions for the solver library.}}
\DoxyCodeLine{20 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#ifndef DISA\_SOLVERS\_H}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define DISA\_SOLVERS\_H}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include "{}direct\_lower\_upper\_factorisation.h"{}}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include "{}scalar.h"{}}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include "{}solver\_fixed\_point.h"{}}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include "{}solver\_utilities.h"{}}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{keyword}{namespace }Disa\{}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{comment}{// Forward declarations}}
\DoxyCodeLine{35 \textcolor{keyword}{class }Matrix\_Sparse;}
\DoxyCodeLine{36 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}> \textcolor{keyword}{class }Vector\_Dense;}
\DoxyCodeLine{37 }
\DoxyCodeLine{44 \textcolor{keyword}{class }\mbox{\hyperlink{classDisa_1_1Solver}{Solver}} \{}
\DoxyCodeLine{45 \textcolor{keyword}{public}:}
\DoxyCodeLine{46 }
\DoxyCodeLine{47   \textcolor{keyword}{explicit} \mbox{\hyperlink{classDisa_1_1Solver}{Solver}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49   std::variant<std::unique\_ptr<Solver\_LU<0> >,}
\DoxyCodeLine{50                std::unique\_ptr<Solver\_LUP<0> >,}
\DoxyCodeLine{51                std::unique\_ptr<Solver\_Jacobi>,}
\DoxyCodeLine{52                std::unique\_ptr<Solver\_Gauss\_Seidel>,}
\DoxyCodeLine{53                std::unique\_ptr<Sover\_Sor>,}
\DoxyCodeLine{54                std::nullptr\_t> solver\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56   \mbox{\hyperlink{structDisa_1_1Convergence__Data}{Convergence\_Data}} solve(\textcolor{keyword}{const} \mbox{\hyperlink{classDisa_1_1Matrix__Sparse}{Matrix\_Sparse}}\& a\_matrix, \mbox{\hyperlink{structDisa_1_1Vector__Dense}{Vector\_Dense<0>}}\& x\_vector,}
\DoxyCodeLine{57                          \textcolor{keyword}{const} \mbox{\hyperlink{structDisa_1_1Vector__Dense}{Vector\_Dense<0>}}\& b\_vector) \{}
\DoxyCodeLine{58 }
\DoxyCodeLine{59     \textcolor{keywordflow}{switch}(solver.index()) \{}
\DoxyCodeLine{60       \textcolor{keywordflow}{case} 0: ERROR(\textcolor{stringliteral}{"{}LU solver does not support sparse matrices."{}});}
\DoxyCodeLine{61       \textcolor{keywordflow}{case} 1: ERROR(\textcolor{stringliteral}{"{}LUP solver does not support sparse matrices."{}});}
\DoxyCodeLine{62       \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{return} std::get<std::unique\_ptr<Solver\_Jacobi> >(solver)-\/>solve\_system(a\_matrix, x\_vector, b\_vector);}
\DoxyCodeLine{63       \textcolor{keywordflow}{case} 3: \textcolor{keywordflow}{return} std::get<std::unique\_ptr<Solver\_Gauss\_Seidel> >(solver)-\/>solve\_system(a\_matrix, x\_vector, b\_vector);}
\DoxyCodeLine{64       \textcolor{keywordflow}{case} 4: \textcolor{keywordflow}{return} std::get<std::unique\_ptr<Sover\_Sor> >(solver)-\/>solve\_system(a\_matrix, x\_vector, b\_vector);}
\DoxyCodeLine{65       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{66         ERROR(\textcolor{stringliteral}{"{}Unknown or uninitialized solver."{}});}
\DoxyCodeLine{67         exit(1);}
\DoxyCodeLine{68     \}    }
\DoxyCodeLine{69   \};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71   \mbox{\hyperlink{structDisa_1_1Convergence__Data}{Convergence\_Data}} solve(\mbox{\hyperlink{structDisa_1_1Vector__Dense}{Vector\_Dense<0>}}\& x\_vector, \textcolor{keyword}{const} \mbox{\hyperlink{structDisa_1_1Vector__Dense}{Vector\_Dense<0>}}\& b\_vector) \{}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{keywordflow}{switch}(solver.index()) \{}
\DoxyCodeLine{74       \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} std::get<std::unique\_ptr<Solver\_LU<0> > >(solver)-\/>solve\_system(x\_vector, b\_vector);}
\DoxyCodeLine{75       \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{return} std::get<std::unique\_ptr<Solver\_LUP<0> > >(solver)-\/>solve\_system(x\_vector, b\_vector);}
\DoxyCodeLine{76       \textcolor{keywordflow}{case} 2: ERROR(\textcolor{stringliteral}{"{}Jacobi solver does not support sparse matrices."{}});}
\DoxyCodeLine{77       \textcolor{keywordflow}{case} 3: ERROR(\textcolor{stringliteral}{"{}Gauss Seidel solver does not support sparse matrices."{}});}
\DoxyCodeLine{78       \textcolor{keywordflow}{case} 4: ERROR(\textcolor{stringliteral}{"{}SOR solver does not support sparse matrices."{}});}
\DoxyCodeLine{79       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{80         ERROR(\textcolor{stringliteral}{"{}Unknown or uninitialized solver."{}});}
\DoxyCodeLine{81         exit(1);}
\DoxyCodeLine{82     \}    }
\DoxyCodeLine{83   \};}
\DoxyCodeLine{84 }
\DoxyCodeLine{85 \};}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 \mbox{\hyperlink{classDisa_1_1Solver}{Solver}} build\_solver(\mbox{\hyperlink{structDisa_1_1Solver__Config}{Solver\_Config}} config);}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{91 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//DISA\_SOLVERS\_H}}

\end{DoxyCode}
