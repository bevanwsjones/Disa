\hypertarget{vector__operators_8h_source}{}\doxysection{vector\+\_\+operators.\+h}
\label{vector__operators_8h_source}\index{libs/core/vector\_operators.h@{libs/core/vector\_operators.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2 \textcolor{comment}{// MIT License}}
\DoxyCodeLine{3 \textcolor{comment}{// Copyright (c) 2022 Bevan W.S. Jones}}
\DoxyCodeLine{4 \textcolor{comment}{//}}
\DoxyCodeLine{5 \textcolor{comment}{// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated}}
\DoxyCodeLine{6 \textcolor{comment}{// documentation files (the "{}Software"{}), to deal in the Software without restriction, including without limitation the}}
\DoxyCodeLine{7 \textcolor{comment}{// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to}}
\DoxyCodeLine{8 \textcolor{comment}{// permit persons to whom the Software is furnished to do so, subject to the following conditions:}}
\DoxyCodeLine{9 \textcolor{comment}{//}}
\DoxyCodeLine{10 \textcolor{comment}{// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the}}
\DoxyCodeLine{11 \textcolor{comment}{// Software.}}
\DoxyCodeLine{12 \textcolor{comment}{//}}
\DoxyCodeLine{13 \textcolor{comment}{// THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE}}
\DoxyCodeLine{14 \textcolor{comment}{// WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR}}
\DoxyCodeLine{15 \textcolor{comment}{// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR}}
\DoxyCodeLine{16 \textcolor{comment}{// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{17 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{18 \textcolor{comment}{// File Name: vector\_operator.h}}
\DoxyCodeLine{19 \textcolor{comment}{// Description: Contains the declaration and definition of mathematical vector operations. File will only define}}
\DoxyCodeLine{20 \textcolor{comment}{//              operations which either reduce or maintain vector dimensionality. I.e. An outer product, for example,}}
\DoxyCodeLine{21 \textcolor{comment}{//              would be defined in matrix\_operators.}}
\DoxyCodeLine{22 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{preprocessor}{\#ifndef DISA\_VECTOR\_OPERATORS\_H}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#define DISA\_VECTOR\_OPERATORS\_H}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include "{}macros.h"{}}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include "{}scalar.h"{}}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include "{}vector\_dense.h"{}}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#include <numbers>}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#include <random>}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{keyword}{namespace }Disa \{}
\DoxyCodeLine{38 }
\DoxyCodeLine{46 \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \_p\_value, std::\textcolor{keywordtype}{size\_t} \_size>}
\DoxyCodeLine{47 \textcolor{keyword}{constexpr} Scalar lp\_norm(\textcolor{keyword}{const} Vector\_Dense<\_size>\& vector) \{}
\DoxyCodeLine{48   \textcolor{keywordflow}{switch}(\_p\_value) \{}
\DoxyCodeLine{49     \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{50       \textcolor{keywordflow}{return} std::abs(*std::max\_element(vector.begin(), vector.end(),}
\DoxyCodeLine{51                                         [](Scalar a, Scalar b) \{ return std::abs(a) < std::abs(b); \}));}
\DoxyCodeLine{52     \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{53       \textcolor{keywordflow}{return} std::accumulate(vector.begin(), vector.end(), 0.0, [](Scalar a, Scalar b) \{ return a + std::abs(b); \});}
\DoxyCodeLine{54     \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{55       \textcolor{keywordflow}{return} std::sqrt(std::accumulate(vector.begin(), vector.end(), 0.0, [](Scalar a, Scalar b) \{ return a + b*b; \}));}
\DoxyCodeLine{56     \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{57       \textcolor{keywordflow}{return} std::cbrt(std::accumulate(vector.begin(), vector.end(), 0.0, [](Scalar a, Scalar b) \{}
\DoxyCodeLine{58         const Scalar abs\_b = std::abs(b);}
\DoxyCodeLine{59         return a + abs\_b*abs\_b*abs\_b;}
\DoxyCodeLine{60       \}));}
\DoxyCodeLine{61     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{62       \textcolor{keywordflow}{return} std::pow(std::accumulate(vector.begin(), vector.end(), 0.0, [](Scalar a, Scalar b) \{}
\DoxyCodeLine{63         return a + std::pow(\_p\_value\%2 == 0 ? b : std::abs(b), \_p\_value);}
\DoxyCodeLine{64       \}), 1.0/\_p\_value);}
\DoxyCodeLine{65   \}}
\DoxyCodeLine{66 \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{74 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size>}
\DoxyCodeLine{75 \textcolor{keyword}{constexpr} Scalar mean(\textcolor{keyword}{const} Vector\_Dense<\_size>\& vector) \{}
\DoxyCodeLine{76   ASSERT\_DEBUG(\_size != 0 || !vector.empty(), \textcolor{stringliteral}{"{}Dynamic vector is empty."{}});}
\DoxyCodeLine{77   \textcolor{keywordflow}{return} std::accumulate(vector.begin(), vector.end(), 0.0)/\textcolor{keyword}{static\_cast<}Scalar\textcolor{keyword}{>}(vector.size());}
\DoxyCodeLine{78 \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{88 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size\_0, std::\textcolor{keywordtype}{size\_t} \_size\_1>}
\DoxyCodeLine{89 \textcolor{keyword}{constexpr} Scalar dot\_product(\textcolor{keyword}{const} Vector\_Dense<\_size\_0>\& vector\_0, \textcolor{keyword}{const} Vector\_Dense<\_size\_1>\& vector\_1) \{}
\DoxyCodeLine{90   ASSERT\_DEBUG(vector\_0.size() == vector\_1.size(),}
\DoxyCodeLine{91                \textcolor{stringliteral}{"{}Incompatible vector sizes, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{} vs. "{}} +}
\DoxyCodeLine{92                std::to\_string(vector\_1.size()) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{93   \textcolor{keywordflow}{return} std::inner\_product(vector\_0.begin(), vector\_0.end(), vector\_1.begin(), 0.0);}
\DoxyCodeLine{94 \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{102 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size>}
\DoxyCodeLine{103 \textcolor{keyword}{constexpr} Vector\_Dense<\_size> unit(Vector\_Dense<\_size> vector) \{}
\DoxyCodeLine{104   \textcolor{keyword}{const} Scalar inverse\_l\_2 = 1.0/lp\_norm<2>(vector);}
\DoxyCodeLine{105   vector *= std::isinf(inverse\_l\_2) ? 0.0 : inverse\_l\_2; \textcolor{comment}{// properly zero, zero vectors.}}
\DoxyCodeLine{106   \textcolor{keywordflow}{return} vector;}
\DoxyCodeLine{107 \}}
\DoxyCodeLine{108 }
\DoxyCodeLine{118 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size\_0, std::\textcolor{keywordtype}{size\_t} \_size\_1, \textcolor{keywordtype}{bool} \_is\_radians = true>}
\DoxyCodeLine{119 \textcolor{keyword}{constexpr} Scalar angle(\textcolor{keyword}{const} Vector\_Dense<\_size\_0>\& vector\_0, \textcolor{keyword}{const} Vector\_Dense<\_size\_1>\& vector\_1) \{}
\DoxyCodeLine{120   ASSERT\_DEBUG(vector\_0.size() == vector\_1.size(),}
\DoxyCodeLine{121                \textcolor{stringliteral}{"{}Incompatible vector sizes, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{} vs. "{}} +}
\DoxyCodeLine{122                std::to\_string(vector\_1.size()) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{123   ASSERT\_DEBUG(vector\_0.size() == 2 || vector\_0.size() == 3,}
\DoxyCodeLine{124                \textcolor{stringliteral}{"{}Incompatible vector size, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{}, must be 2 or 3."{}});}
\DoxyCodeLine{125   \textcolor{keywordflow}{return} std::acos(std::clamp(dot\_product(unit(vector\_0), unit(vector\_1)), -\/1.0, 1.0))/}
\DoxyCodeLine{126          (\_is\_radians ? 1.0 : std::numbers::pi/180.0);}
\DoxyCodeLine{127 \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{137 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size\_0, std::\textcolor{keywordtype}{size\_t} \_size\_1>}
\DoxyCodeLine{138 \textcolor{keyword}{constexpr} \textcolor{keyword}{typename} StaticPromoter<Vector\_Dense<\_size\_0>, Vector\_Dense<\_size\_1>>::type}
\DoxyCodeLine{139 cross\_product(\textcolor{keyword}{const} Vector\_Dense<\_size\_0>\& vector\_0, \textcolor{keyword}{const} Vector\_Dense<\_size\_1>\& vector\_1) \{}
\DoxyCodeLine{140   ASSERT\_DEBUG(vector\_0.size() == vector\_1.size(),}
\DoxyCodeLine{141                \textcolor{stringliteral}{"{}Incompatible vector sizes, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{} vs. "{}} +}
\DoxyCodeLine{142                std::to\_string(vector\_1.size()) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{143   ASSERT\_DEBUG(vector\_0.size() == 2 || vector\_0.size() == 3,}
\DoxyCodeLine{144                \textcolor{stringliteral}{"{}Incompatible vector size, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{}, must be 2 or 3."{}});}
\DoxyCodeLine{145   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} StaticPromoter<Vector\_Dense<\_size\_0>, Vector\_Dense<\_size\_1>>::type \_return\_vector;}
\DoxyCodeLine{146   \textcolor{keywordflow}{if} (vector\_0.size() == 2) \textcolor{keywordflow}{return} \{0.0, 0.0, vector\_0[0]*vector\_1[1] -\/ vector\_0[1]*vector\_1[0]\};}
\DoxyCodeLine{147   \textcolor{keywordflow}{else}}
\DoxyCodeLine{148     \textcolor{keywordflow}{return} \{vector\_0[1]*vector\_1[2] -\/ vector\_0[2]*vector\_1[1],}
\DoxyCodeLine{149             vector\_0[2]*vector\_1[0] -\/ vector\_0[0]*vector\_1[2],}
\DoxyCodeLine{150             vector\_0[0]*vector\_1[1] -\/ vector\_0[1]*vector\_1[0]\};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \}}
\DoxyCodeLine{153 }
\DoxyCodeLine{162 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size\_0, std::\textcolor{keywordtype}{size\_t} \_size\_1>}
\DoxyCodeLine{163 \textcolor{keyword}{constexpr} \textcolor{keyword}{typename} StaticPromoter<Vector\_Dense<\_size\_0>, Vector\_Dense<\_size\_1>>::type}
\DoxyCodeLine{164 projection\_tangent(\textcolor{keyword}{const} Vector\_Dense<\_size\_0>\& vector\_0, \textcolor{keyword}{const} Vector\_Dense<\_size\_1>\& vector\_1) \{}
\DoxyCodeLine{165   ASSERT\_DEBUG(lp\_norm<2>(vector\_1), \textcolor{stringliteral}{"{}Second vector is not a unit vector."{}});}
\DoxyCodeLine{166   ASSERT\_DEBUG(vector\_0.size() == vector\_1.size(),}
\DoxyCodeLine{167                \textcolor{stringliteral}{"{}Incompatible vector sizes, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{} vs. "{}} +}
\DoxyCodeLine{168                std::to\_string(vector\_1.size()) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{169   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} StaticPromoter<Vector\_Dense<\_size\_0>, Vector\_Dense<\_size\_1>>::type \_return\_vector;}
\DoxyCodeLine{170   \textcolor{keywordflow}{return} dot\_product(vector\_0, vector\_1)*}
\DoxyCodeLine{171          \_return\_vector([\&](\textcolor{keyword}{const} std::size\_t i\_element) \{ \textcolor{keywordflow}{return} vector\_1[i\_element]; \}, vector\_1.size());}
\DoxyCodeLine{172 \}}
\DoxyCodeLine{173 }
\DoxyCodeLine{182 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} \_size\_0, std::\textcolor{keywordtype}{size\_t} \_size\_1>}
\DoxyCodeLine{183 \textcolor{keyword}{constexpr} \textcolor{keyword}{typename} StaticPromoter<Vector\_Dense<\_size\_0>, Vector\_Dense<\_size\_1>>::type}
\DoxyCodeLine{184 projection\_orthogonal(\textcolor{keyword}{const} Vector\_Dense<\_size\_0>\& vector\_0, \textcolor{keyword}{const} Vector\_Dense<\_size\_1>\& vector\_1) \{}
\DoxyCodeLine{185   ASSERT\_DEBUG(vector\_0.size() == vector\_1.size(),}
\DoxyCodeLine{186                \textcolor{stringliteral}{"{}Incompatible vector sizes, "{}} + std::to\_string(vector\_0.size()) + \textcolor{stringliteral}{"{} vs. "{}} +}
\DoxyCodeLine{187                std::to\_string(vector\_1.size()) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{188   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} StaticPromoter<Vector\_Dense<\_size\_0>, Vector\_Dense<\_size\_1>>::type \_return\_vector;}
\DoxyCodeLine{189   \_return\_vector vector([\&](\textcolor{keyword}{const} std::size\_t index) \{ \textcolor{keywordflow}{return} vector\_0[index]; \}, vector\_1.size());}
\DoxyCodeLine{190   \textcolor{keywordflow}{return} vector -\/ projection\_tangent(vector\_0, vector\_1);}
\DoxyCodeLine{191 \}}
\DoxyCodeLine{192 }
\DoxyCodeLine{193 \}\textcolor{comment}{//Disa}}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//DISA\_VECTOR\_OPERATORS\_H}}

\end{DoxyCode}
